{
  "version": 3,
  "sources": ["../../../src/lib/messageHandlers/uploadHandlers.ts"],
  "sourcesContent": ["import type { SpreadsheetUtils } from '../google';\nimport fs from 'fs';\n\n/**\n * Handles uploading a file to a Google Drive folder.\n *\n * @param spreadsheet The SpreadsheetUtils instance to use.\n * @param log The logger instance for logging.\n * @param message The message containing parameters for the operation.\n */\nexport function handleUpload(\n    spreadsheet: SpreadsheetUtils,\n    log: ioBroker.Logger,\n    message: Record<string, any>,\n): Promise<void> {\n    const messageData: Record<string, any> = message.message as Record<string, any>;\n    const target = messageData.target;\n    const parentFolder = messageData.parentFolder;\n    const source = messageData.source;\n    if (!target || !parentFolder || !source) {\n        log.error(\"Missing parameters for upload: 'target', 'parentFolder', 'source'\");\n        return Promise.reject(new Error('Missing parameters for upload'));\n    }\n    return spreadsheet.upload(target, parentFolder, fs.createReadStream(source));\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAe;AASR,SAAS,aACZ,aACA,KACA,SACa;AACb,QAAM,cAAmC,QAAQ;AACjD,QAAM,SAAS,YAAY;AAC3B,QAAM,eAAe,YAAY;AACjC,QAAM,SAAS,YAAY;AAC3B,MAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,QAAQ;AACrC,QAAI,MAAM,mEAAmE;AAC7E,WAAO,QAAQ,OAAO,IAAI,MAAM,+BAA+B,CAAC;AAAA,EACpE;AACA,SAAO,YAAY,OAAO,QAAQ,cAAc,UAAAA,QAAG,iBAAiB,MAAM,CAAC;AAC/E;",
  "names": ["fs"]
}
